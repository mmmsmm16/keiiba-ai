# v16: ランキング損失（ListNet風）

experiment_name: "v16_ranking"
description: "v16: ランキング損失 (RankingLoss)"

data:
  features: "v9_full"
  cache_path: "experiments/v14_roi/data/lgbm_datasets.pkl"
  train_years: [2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024]
  valid_year: 2025
  use_cache: true
  jra_only: false
  target_type: "ranking"

model:
  type: "roi"
  roi_params:
    model_type: "simple"
    loss_type: "ranking"
    hidden_dim: 1024        # 512 → 1024 に増加
    num_layers: 6           # 4 → 6層に増加
    dropout: 0.3
    epochs: 300             # 100 → 200 に増加 (Early Stoppingで早期終了可能)
    batch_size: 128
    lr: 0.0002              # 大きいモデルなので学習率を少し下げる
    patience: 30            # Early Stopping

evaluation:
  metric: "roi"
  strategies: ["tansho", "umaren", "wide", "sanrentan", "option_c"]
  jra_only: true
