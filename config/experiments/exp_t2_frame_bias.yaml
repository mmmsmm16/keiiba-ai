
experiment_name: "exp_t2_frame_bias"
model_save_path: "models/experiments/exp_t2_frame_bias"

dataset:
  train_start_date: "2015-01-01"
  test_end_date: "2024-12-31" 
  valid_year: 2023 
  jra_only: true
  drop_market_data: true
  binary_target: "win" 
  description: "T2 + Frame Bias Features (Test new feature block)"
  
  # ID系特徴量を除外
  exclude_features:
    - horse_id
    - mare_id
    - sire_id
    - jockey_id
    - trainer_id
  
  categorical_features:
    - sex
    - grade_code
    - kyoso_joken_code
    - surface
    - venue
    - prev_grade
    - dist_change_category
    - interval_category
    - attr_rot
    - attr_str
    - attr_slp
    - interval_type_code 

# Base features + frame_bias
features:
  - base_attributes
  - history_stats
  - jockey_stats
  - pace_stats
  - bloodline_stats
  - training_stats
  - burden_stats
  - changes_stats
  - aptitude_stats
  - speed_index_stats
  - pace_pressure_stats
  - relative_stats 
  - jockey_trainer_stats
  - class_stats
  - risk_stats
  - course_aptitude
  - extended_aptitude
  - runstyle_fit
  - jockey_trainer_compatibility
  - interval_aptitude 
  - frame_bias  # NEW

model_params:
  model_type: "lightgbm"
  objective: "binary"
  metric: "auc"
  learning_rate: 0.05
  num_leaves: 31
  feature_fraction: 0.8
  bagging_fraction: 0.8
  bagging_freq: 5
  early_stopping_rounds: 100
  n_estimators: 2000
  verbose: -1

calibration:
  enabled: true
  method: "isotonic"
  n_folds: 5
